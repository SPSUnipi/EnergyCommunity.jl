<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>User power model · EnergyCommunity.jl</title><meta name="title" content="User power model · EnergyCommunity.jl"/><meta property="og:title" content="User power model · EnergyCommunity.jl"/><meta property="twitter:title" content="User power model · EnergyCommunity.jl"/><meta name="description" content="Documentation for EnergyCommunity.jl."/><meta property="og:description" content="Documentation for EnergyCommunity.jl."/><meta property="twitter:description" content="Documentation for EnergyCommunity.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyCommunity.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../installation/">Installation guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/non_cooperative/">Non Cooperative Energy Community</a></li><li><a class="tocitem" href="../../examples/aggregated_non_cooperative/">Aggregated Non-Cooperative Energy Community</a></li><li><a class="tocitem" href="../../examples/cooperative/">Cooperative Energy Community</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Optimization Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../intro_model/">Architecture of the model</a></li><li class="is-active"><a class="tocitem" href>User power model</a><ul class="internal"><li><a class="tocitem" href="#User&#39;s-goal"><span>User&#39;s goal</span></a></li><li><a class="tocitem" href="#Power-Balance"><span>Power Balance</span></a></li><li><a class="tocitem" href="#Peak-Power-Definition"><span>Peak Power Definition</span></a></li><li><a class="tocitem" href="#Renewable-Generation-Limit"><span>Renewable Generation Limit</span></a></li><li><a class="tocitem" href="#Battery-and-Converter-Constraints"><span>Battery and Converter Constraints</span></a></li><li><a class="tocitem" href="#Modular-units"><span>Modular units</span></a></li><li><a class="tocitem" href="#Fuel-Fired-Generators"><span>Fuel-Fired Generators</span></a></li><li><a class="tocitem" href="#Deferrable-loads-(not-implemented-yet)"><span>Deferrable loads (not implemented yet)</span></a></li><li><a class="tocitem" href="#Adjustable-loads"><span>Adjustable loads</span></a></li></ul></li><li><a class="tocitem" href="../energy_model/">User energy model</a></li><li><a class="tocitem" href="../community_model/">Community Shared Energy and benefits</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Configuration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../configuration/">Configuration</a></li></ul></li><li><a class="tocitem" href="../../API reference/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Optimization Model</a></li><li class="is-active"><a href>User power model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>User power model</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SPSUnipi/EnergyCommunity.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SPSUnipi/EnergyCommunity.jl/blob/main/docs/src/model/power_model.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="User-power-model"><a class="docs-heading-anchor" href="#User-power-model">User power model</a><a id="User-power-model-1"></a><a class="docs-heading-anchor-permalink" href="#User-power-model" title="Permalink"></a></h1><h2 id="User&#39;s-goal"><a class="docs-heading-anchor" href="#User&#39;s-goal">User&#39;s goal</a><a id="User&#39;s-goal-1"></a><a class="docs-heading-anchor-permalink" href="#User&#39;s-goal" title="Permalink"></a></h2><h3 id="Net-Present-Value"><a class="docs-heading-anchor" href="#Net-Present-Value">Net Present Value</a><a id="Net-Present-Value-1"></a><a class="docs-heading-anchor-permalink" href="#Net-Present-Value" title="Permalink"></a></h3><p>The Net Present Value <span>$NPV_j$</span> of each user <span>$j$</span> accounts for the cash flows for every year <span>$y \in Y$</span>, where <span>$Y$</span> is the set of years in the planning horizon, accounting for net revenues <span>$R_{j,y}$</span> by exchanging energy with the grid, investment costs <span>$I_{j,y}$</span>, peak charges <span>$PP_{j,y}$</span>, operating costs <span>$OP_{j,y}$</span>, replacement costs <span>${RP}_{j,y}$</span>, and residual value <span>${RV}_{j,y}$</span> at the end of the project, discounted at rate <span>$r$</span>:</p><p class="math-container">\[\mathrm{NPV}_j = \sum_{y \in Y} \frac{ R_{j,y} - I_{j,y} - OF_{j,y} - OV_{j,y} - PP_{j,y} - RP_{j,y} + RV_{j,y} }{(1+r)^y}\]</p><h3 id="Net-Revenues-of-energy-flow-with-the-grid"><a class="docs-heading-anchor" href="#Net-Revenues-of-energy-flow-with-the-grid">Net Revenues of energy flow with the grid</a><a id="Net-Revenues-of-energy-flow-with-the-grid-1"></a><a class="docs-heading-anchor-permalink" href="#Net-Revenues-of-energy-flow-with-the-grid" title="Permalink"></a></h3><p>The net revenues are proportional to the energy withdrawn from the grid <span>$P^{U-}_{j,t}$</span>, the energy injected into the grid <span>$P^{U+}_{j,t}$</span>, and the consumption <span>$P^L_{j,t}$</span> to the main grid, weighted by the respective prices <span>${\pi}^{+}_{j,t}$</span>, <span>${\pi}^{-}_{j,t}$</span>, and excise <span>${\pi}^{ex}_{j,t}$</span> at each time period <span>$t \in T$</span>, where <span>$t$</span> is the set of time periods in the planning horizon, and scaled by the time resolution <span>$\Delta_t$</span> and the weighting factor <span>$m^T_t$</span> of each period to account for the use of representative days:</p><p class="math-container">\[R_{j,y} = \sum_{t \in T} m^T_t \Delta_t \left( {\pi}^{+}_{j,t}P^U_{j,t,+} - {\pi}^{-}_{j,t}P^U_{j,t,-} - {\pi}^{ex}_{j,t}P^L_{j,t} \right)\]</p><h3 id="Investment-Costs"><a class="docs-heading-anchor" href="#Investment-Costs">Investment Costs</a><a id="Investment-Costs-1"></a><a class="docs-heading-anchor-permalink" href="#Investment-Costs" title="Permalink"></a></h3><p>Investment charges are incurred only at the beginning of the project (<span>$y = 0$</span>) and account for the all assets <span>$A_j$</span> owned by the user <span>$j$</span>. The cost of each asset <span>$a \in A_j$</span> is proportional to the nominal capacity <span>$x_{a,j}$</span> of that asset and the per-unit cost <span>$c^I_{a,j}$</span>:</p><p class="math-container">\[I_{j,0} = \sum_{a\in A_j} c^I_{a,j} x_{a,j}, \qquad I_{j,y}=0 \;\; \forall y&gt;0\]</p><h3 id="Fixed-Operating-costs"><a class="docs-heading-anchor" href="#Fixed-Operating-costs">Fixed Operating costs</a><a id="Fixed-Operating-costs-1"></a><a class="docs-heading-anchor-permalink" href="#Fixed-Operating-costs" title="Permalink"></a></h3><p>Yearly fixed operating costs <span>$OP_{j,y}$</span> include costs proportional the nominal capacity <span>$x_{a,j}$</span> of each asset by per-unit cost factor <span>$c^M_{a,j}$</span>. Fixed operating costs do not apply to fuel-fired generators <span>$A^G_j$</span>, as their maintenance charges are proportional to the number of dispatched hours and accounted for in the variable operating costs.</p><p class="math-container">\[OF_{j,y} = \sum_{a\in A_j} x_{a,j} c^M_{a,j} \quad \forall a \in A_j / A^G_j\]</p><h3 id="Variable-Operating-costs-(fuel-fired-assets)"><a class="docs-heading-anchor" href="#Variable-Operating-costs-(fuel-fired-assets)">Variable Operating costs (fuel-fired assets)</a><a id="Variable-Operating-costs-(fuel-fired-assets)-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-Operating-costs-(fuel-fired-assets)" title="Permalink"></a></h3><p>Variable operating costs <span>$OV_{j,y}$</span> account for the fuel costs and maintenance charges related to the operation of fuel-fired generators <span>$A^G_j$</span> and fuel-fired boilers <span>$A^{boil}_j$</span> owned by user <span>$j$</span>. The fuel consumption <span>$F_{j,g,t}$</span> of each generator <span>$g \in A^G_j$</span> at time <span>$t$</span> is multiplied by the fuel cost <span>${\pi}^F_{j,g}$</span> and scaled by the weighting factor <span>$m^T_t$</span> of each period to account for the use of representative days. The maintenance costs of generators are proportional to the number of hours the units have been dispatched and the per-unit maintenance cost <span>$c^M_{g,j}$</span>. The fuel costs of boilers <span>$o \in A^{boil}_j$</span> are proportional to the thermal power output <span>$P^{boil}_{j,o,t}$</span>, the fuel price <span>${\pi}^F_{j,o}$</span>, and inversely proportional to the product of the lower heating value <span>${PCI}_{j,o}$</span> and efficiency <span>${\eta}_{j,o}$</span> of the boiler:</p><p class="math-container">\[OV_{j,y} = \sum_{t\in T} m^T_t \left[\sum_{g \in A^G_j} ( \pi^F_{j,g} F_{j,g,t} + \Delta_t c^M_{g,j} s_{j,g,t}) + \sum_{o \in A^{boil}_j} \Delta_t {\pi}^F_{j,o} \dfrac{P^{boil}_{j,o,t}}{{PCI}_{j,o} {\eta}_{j,o}}  \right]\]</p><h3 id="Peak-Power-Charges"><a class="docs-heading-anchor" href="#Peak-Power-Charges">Peak Power Charges</a><a id="Peak-Power-Charges-1"></a><a class="docs-heading-anchor-permalink" href="#Peak-Power-Charges" title="Permalink"></a></h3><p>The peak-power charges <span>${PP}_{j,y}$</span> describes charges related to the nominal capacity of the connection to the grid, that are modelled proportional the maximum peak power at the POD <span>$P^{U,max}_{j,w}$</span> and the per-unit cost <span>$c^P_{j,w}$</span> for each representative peak period <span>$w \in W$</span>, where <span>$W$</span> is the set of peak periods, scaled by the weighting factor <span>$m^W_w$</span> of each period to account for the use of representative days:</p><p class="math-container">\[{PP}_{j,y} = \sum_{w\in W} m^W_w \, c^P_{j,w} \, P^{U,\max}_{j,w}\]</p><h3 id="Replacement-Costs"><a class="docs-heading-anchor" href="#Replacement-Costs">Replacement Costs</a><a id="Replacement-Costs-1"></a><a class="docs-heading-anchor-permalink" href="#Replacement-Costs" title="Permalink"></a></h3><p>The replacement charges <span>$RP_{j,y}$</span> describe the costs for replacing assets during the project. When an asset <span>$a \in A_j$</span> reaches its end of life <span>$N^Y_{a,j}$</span>, that is <span>${mod}(y, N^Y_{a,j}) = 0$</span>, the asset is replaced thus leading to additional expences. The replacement costs are modelled proportional the nominal capacity <span>$x_{a,j}$</span> of each asset by per-unit cost factor <span>$c^I_{a,j}$</span>, as for the investment costs:</p><p class="math-container">\[RP_{j,y} = \begin{cases}
\displaystyle
\sum_{a\in A_j} x_{a,j} c^I_{a,j},
&amp; \text{if } \mathrm{mod}(y, N^Y_{a,j}) = 0 \\
0, &amp; \text{otherwise}
\end{cases}\]</p><h3 id="Residual-Value"><a class="docs-heading-anchor" href="#Residual-Value">Residual Value</a><a id="Residual-Value-1"></a><a class="docs-heading-anchor-permalink" href="#Residual-Value" title="Permalink"></a></h3><p>Finally, the residual value <span>$RV_{j,y}$</span> accounts for the remaining value of assets at the end of the project (<span>$y = |Y|$</span>); for all other years <span>$RV_{j,y} = 0$</span>. For each asset <span>$a \in A_j$</span>, if the asset has not reached its end of life <span>$N^Y_{a,j}$</span>, a fraction of the investment cost proportional to the remaining useful life is considered.</p><p class="math-container">\[RV_{j,|Y|} = \sum_{a\in A_j} x_{a,j} c^I_{a,j} \frac{ N^Y_{a,j} - \mathrm{mod}(|Y|-1, N^Y_{a,j}) }{N^Y_{a,j}}\]</p><h2 id="Power-Balance"><a class="docs-heading-anchor" href="#Power-Balance">Power Balance</a><a id="Power-Balance-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Balance" title="Permalink"></a></h2><p>The energy balance of the energy system at each user <span>$j$</span> and time <span>$t$</span> is guaranted by the following equation:</p><p class="math-container">\[P^{U+}_{j,t} - P^{U-}_{j,t} + \sum_{c\in A^C_j}(P^{c-}_{j,t} - P^{c+}_{j,t}) - P^R_{j,t} + \sum_{g \in A^G_j}P^g_{j,t} + \sum_{d \in A^D_j}P^{\text{adj}}_{j,d,t} + \sum_{h \in A^{HP}_j}P^{el,HP}_{j,h,t} = - \sum_{f \in A^F_j} P^L_{j,f,t}\]</p><p>where:</p><ul><li><span>$P^{U+/U-}_{j,t,+}$</span> is the power injected (+) into or withdrawn (-) from the grid by user <span>$j$</span> at time <span>$t$</span> measured at the Point of Delivery (PoD);</li><li><span>$P^{c-/c+}_{j,t}$</span> is the discharging power of converter <span>$c$</span>;</li><li><span>$P^R_{j,t}$</span> is the total renewable generation;</li><li><span>$P^g_{j,t}$</span> is the power generated by fuel-fired generator <span>$g$</span>;</li><li><span>$P^{\text{adj}}_{j,d,t}$</span> is the net power exchanged by adjustable load <span>$d$</span>;</li><li><span>$P^{HP}_{j,h,t}$</span> is the power consumed by heat pump <span>$h$</span> whose modelling is described in the section of thermal model;</li><li><span>$P^L_{j,t}$</span> is the power consumption of user <span>$j$</span> at time <span>$t$</span>.</li><li><span>$A^{C/G/R/D/F}_j$</span> is the set of converters (C), fuel-fired generators (G), renewable assets (R) and dispatchable (D) and fixed (F) loads owned by user <span>$j$</span>;</li></ul><h2 id="Peak-Power-Definition"><a class="docs-heading-anchor" href="#Peak-Power-Definition">Peak Power Definition</a><a id="Peak-Power-Definition-1"></a><a class="docs-heading-anchor-permalink" href="#Peak-Power-Definition" title="Permalink"></a></h2><p>For each user <span>$j$</span> and window <code>w</code>, the peak-power <span>$P^{U,\max}_{j,w}$</span> is defined as the maximum power withdrawn or injected from the grid <span>$P^U_{j,t,-}$</span> over all time periods <span>$t$</span> in the representative peak-period window <span>$T_w$</span>:</p><p class="math-container">\[P^{U,\max}_{j,w} \ge \max\left(P^{U+}_{j,t},\, P^{U-}_{j,t}\right) \quad \forall t \in T_w\]</p><p>In linear form, the max is implemented with the following two constraints:</p><ul><li><span>$P^{U,max}_{j,w} \ge P^U_{j,t,+}, \quad \forall t \in T_w$</span></li><li><span>$P^{U,max}_{j,w} \ge P^U_{j,t,-}, \quad \forall t \in T_w$</span></li></ul><h2 id="Renewable-Generation-Limit"><a class="docs-heading-anchor" href="#Renewable-Generation-Limit">Renewable Generation Limit</a><a id="Renewable-Generation-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Renewable-Generation-Limit" title="Permalink"></a></h2><p>For each user <span>$j$</span> and time step <span>$t$</span>, the total renewable generation <span>$P^R_{j,t}$</span> is limited by the set <span>$A^R_j$</span> of renewable assets, their nominal capacity <span>$x_{r,j}$</span> that is a variable optimized by the algorithm and the per-unit renewable production <span>$p^r_{j,t}$</span>:</p><p class="math-container">\[P^R_{j,t} \le \sum_{r\in A^R_j} p^r_{j,t}\, x_{r,j}\]</p><h2 id="Battery-and-Converter-Constraints"><a class="docs-heading-anchor" href="#Battery-and-Converter-Constraints">Battery and Converter Constraints</a><a id="Battery-and-Converter-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Battery-and-Converter-Constraints" title="Permalink"></a></h2><p>Each battery <span>$b \in A^B_j$</span> owned by user <span>$j$</span>, where <span>$A^B_j$</span> is the set of storage assets owned by user <span>$j$</span>, must have a corresponding converter <span>$c(b) \in A^C_j$</span>, where <span>$A^C_j$</span> is the set of converters owned by user <span>$j$</span>. The converter <span>$c(b)$</span> is used to charge and discharge the battery <span>$b$</span>. </p><p>For battery <span>$b \in A^B_j$</span> owned by user <span>$j$</span>, the energy <span>$E_{j,b,t}$</span> stored in the battery is regulated by the following equation, where <span>$P^{c(b)+}_{j,t}$</span> is the charging power of the converter <span>$c(b)$</span>, <span>$P^{c(b)-}_{j,t}$</span> is the discharging power of the converter <span>$c(b)$</span>, and <span>${\eta}_b$</span> is the round-trip efficiency of the battery <span>$b$</span>.</p><p class="math-container">\[E_{j,b,t} = E_{j,b,t-1} - \Delta_t \frac{P^{c(b)+}_{j,t}}{\eta_b} + \Delta_t \eta_b P^{c(b)-}_{j, t}\]</p><p>Maximum and minimum energy limits apply:</p><p class="math-container">\[\beta^{min}_{b,j} x_{b,j} \le E_{j,b,t} \le \beta^{max}_{b,j} x_{b,j}\]</p><p>Power limits on the converter <span>$c$</span> apply as follows, where <span>$x_{c,j}$</span> is the nominal power capacity of the converter <span>$c$</span> owned by user <span>$j$</span>:</p><ul><li>Maximum charging <span>$P^{c+}_{j,t} \le x_{c,j}$</span></li><li>Maximum discharging <span>$P^{c-}_{j,t} \le x_{c,j}$</span></li></ul><h2 id="Modular-units"><a class="docs-heading-anchor" href="#Modular-units">Modular units</a><a id="Modular-units-1"></a><a class="docs-heading-anchor-permalink" href="#Modular-units" title="Permalink"></a></h2><p>Units where modularity option is enabled are modelled by introducing integer variables <span>$n_{a,j}$</span> representing the number of installed modules of type <span>$A^M_j$</span> and constraints linking the total capacity to the number of modules and the capacity per module. <span>$n_{a,j}$</span> is an integer variable representing the number of modules of asset <span>$a$</span> owned by user <span>$j$</span>, and <span>$\overline{S}^a_j$</span> is the capacity per module.</p><p class="math-container">\[x_{a,j} = n_{a,j} \overline{S}^a_j` \quad \forall a \in A^M_j\]</p><h2 id="Fuel-Fired-Generators"><a class="docs-heading-anchor" href="#Fuel-Fired-Generators">Fuel-Fired Generators</a><a id="Fuel-Fired-Generators-1"></a><a class="docs-heading-anchor-permalink" href="#Fuel-Fired-Generators" title="Permalink"></a></h2><p>The dispatch of each fuel-fired generator <span>$g \in A^G_j$</span> owned by user <span>$j$</span> is regulated by unit-commitment constraints and require modularity option, that is the fuel-fired generators are of standardized nominal capacity <span>$\overline{S}^a_j$</span>. Minimum and maximum power limitations apply. Accordingly, the generation <span>$P^g_{j,t}$</span> is limited by the number of dispatched units <span>$s_{j,g,t}$</span> as shown below:</p><p class="math-container">\[\beta^{min}_{j,g} \overline{S}^a_j x_{g,j} \le P^g_{j,t} \le \beta^{max}_{j,g} \overline{S}^a_j x_{g,j}\]</p><p>The number of dispatched units is limited by the number of installed units <span>$n_{g,j}$</span>:</p><p class="math-container">\[s_{g,j} \le n_{g,j}\]</p><p>The fuel consumption <span>$F_{j,g,t}$</span> is proportional to the generated power <span>$P^g_{j,t}$</span> by the using a piece-wise linear function of slope <span>$c^{FS,g}_j$</span> and intercept <span>$c^{FI,g}_j$</span>:</p><p class="math-container">\[F^g_{j,t} = c^{FS,g}_j P^g_{j,t} + \Delta c^{FI,g}_j s_{j,g,t}\]</p><h2 id="Deferrable-loads-(not-implemented-yet)"><a class="docs-heading-anchor" href="#Deferrable-loads-(not-implemented-yet)">Deferrable loads (not implemented yet)</a><a id="Deferrable-loads-(not-implemented-yet)-1"></a><a class="docs-heading-anchor-permalink" href="#Deferrable-loads-(not-implemented-yet)" title="Permalink"></a></h2><p>Not implemented yet.</p><h2 id="Adjustable-loads"><a class="docs-heading-anchor" href="#Adjustable-loads">Adjustable loads</a><a id="Adjustable-loads-1"></a><a class="docs-heading-anchor-permalink" href="#Adjustable-loads" title="Permalink"></a></h2><p>Adjustable loads represent appliances whose electrical consumption can be modulated in time within technical boundaries while still satisfying a mandatory <strong>energy trajectory</strong> over the planning horizon. Examples include electric vehicles (EVs) or flexible industrial processes. Adjustable loads do have power constraints and energy constraints. The latter ensures that the total energy consumed (or supplied) by the adjustable load over the planning horizon matches a predefined energy trajectory.</p><p>Each adjustable load <span>$d \in A^D_j$</span> among the adjustable loads <span>$A^D_j$</span> owned by the user <span>$j$</span> is indexed by can absorb (<span>$P^{\text{adj},N}_{j,d,t}$</span>) or supply (<span>$P^{\text{adj},P}_{j,d,t}$</span>) power in agreement to specific constraints, where <span>$\overline{P}^{\text{withdrawal}}_{j,d,t}$</span> and <span>$\overline{P}^{\text{supply}}_{j,d,t}$</span> are specific inputs (constants or time series) provided by the user. For simplicity, we denote <span>$P^{\text{adj}}_{j,d,t}$</span> the net power exchanged by the adjustable load <span>$d$</span> at time <span>$t$</span>, defined as the difference between the power withdrawn and supplied.</p><p class="math-container">\[  0 \le P^{\text{adj},N}_{j,d,t} \le \overline{P}^{\text{withdrawal}}_{j,d,t}\\
  0 \le P^{\text{adj},P}_{j,d,t} \le \overline{P}^{\text{supply}}_{j,d,t}\\
  P^{\text{adj}}_{j,d,t} = P^{\text{adj},N}_{j,d,t} - P^{\text{adj},P}_{j,d,t}\]</p><p>The energy trajectory is regulated by the exogenous energy inflow <span>${\xi}_{j,d,t}$</span> (positive for charging and negative for discharging) that defines the net energy flows to the component. The energy stored in the adjustable load <span>$E^{\text{adj}}_{j,d,t}$</span> at each time <span>$t$</span> is modelled as follows, where <span>$\eta^P_{j,d}$</span> and <span>$\eta^N_{j,d}$</span> are the efficiencies related to power supply and withdrawal.</p><p class="math-container">\[  E^{\text{adj}}_{j,d,t} = E^{\text{adj}}_{j,d,t-1} - \Delta_t \frac{P^{\text{adj},P}_{j,d,t}}{\eta^P_{j,d}} + \Delta_t P^{\text{adj},N}_{j,d,t}\,\eta^N_{j,d} + {\xi}_{j,d,t}\]</p><p>Maximum and minimum energy limits also apply:</p><p class="math-container">\[  \underline{E}_{j,d,t} \le E^{\text{adj}}_{j,d,t} \le \overline{E}_{j,d,t}\]</p><p>This component can be used to model both energy storage systems (e.g., EV batteries) and flexible loads with specific energy requirements. For example, a charging station for Electric Vehicles can be modelled as an adjustable load where power and energy limits are non-zero when vehicles are connected to the recharging station, and the energy trajectory <span>${\xi}_{j,d,t}$</span> corresponds to the required state of charge by a specific time (e.g., departure time). In particular, when an EV with a given state of charge connects to the station, <span>${\xi}_{j,d,t}$</span> in that time step can be positive and match that value, signaling the additional state of charge that is being connected. Conversely, when an EV leaves the station, the station is deprived of energy and thus <span>${\xi}_{j,d,t}$</span> becomes negative. Energy limits are adapted accordingly to model the total minimum and maximum state of charge of all EVs connected to the station at each time <span>$t$</span>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../intro_model/">« Architecture of the model</a><a class="docs-footer-nextpage" href="../energy_model/">User energy model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Monday 1 December 2025 22:13">Monday 1 December 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
